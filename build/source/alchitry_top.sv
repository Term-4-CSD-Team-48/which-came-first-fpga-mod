/*
    This file was generated automatically by Alchitry Labs 2.0.29-BETA.
    Do not edit this file directly. Instead edit the original Lucid source.
    This is a temporary file and any changes made to it will be destroyed.
*/

module alchitry_top (
        input wire clk,
        input wire rst_n,
        output reg [7:0] led,
        input wire usb_rx,
        output reg usb_tx,
        output reg [2:0][7:0] io_led,
        output reg [7:0] io_segment,
        output reg [3:0] io_select,
        input wire [4:0] io_button,
        input wire [2:0][7:0] io_dip
    );
    logic rst;
    localparam _MP_STAGES_279130727 = 3'h4;
    logic M_reset_cond_in;
    logic M_reset_cond_out;
    
    reset_conditioner #(
        .STAGES(_MP_STAGES_279130727)
    ) reset_cond (
        .clk(clk),
        .in(M_reset_cond_in),
        .out(M_reset_cond_out)
    );
    
    
    localparam _MP_RISE_1443053826 = 1'h1;
    localparam _MP_FALL_1443053826 = 1'h0;
    logic M_edge_detector_in;
    logic M_edge_detector_out;
    
    edge_detector #(
        .RISE(_MP_RISE_1443053826),
        .FALL(_MP_FALL_1443053826)
    ) edge_detector (
        .clk(clk),
        .in(M_edge_detector_in),
        .out(M_edge_detector_out)
    );
    
    
    localparam _MP_DIGITS_541136839 = 3'h4;
    localparam _MP_DIV_541136839 = 5'h10;
    logic [3:0][3:0] M_seg_values;
    logic [6:0] M_seg_seg;
    logic [3:0] M_seg_sel;
    
    multi_seven_seg #(
        .DIGITS(_MP_DIGITS_541136839),
        .DIV(_MP_DIV_541136839)
    ) seg (
        .clk(clk),
        .rst(rst),
        .values(M_seg_values),
        .seg(M_seg_seg),
        .sel(M_seg_sel)
    );
    
    
    localparam _MP_DIGITS_2061075964 = 3'h4;
    logic M_dec_ctr_inc;
    logic [3:0][3:0] M_dec_ctr_digits;
    
    multi_decimal_counter #(
        .DIGITS(_MP_DIGITS_2061075964)
    ) dec_ctr (
        .clk(clk),
        .rst(rst),
        .inc(M_dec_ctr_inc),
        .digits(M_dec_ctr_digits)
    );
    
    
    localparam _MP_SIZE_123908156 = 1'h1;
    localparam _MP_DIV_123908156 = 5'h18;
    localparam _MP_TOP_123908156 = 1'h0;
    localparam _MP_UP_123908156 = 1'h1;
    logic [0:0] M_ctr_value;
    
    counter #(
        .SIZE(_MP_SIZE_123908156),
        .DIV(_MP_DIV_123908156),
        .TOP(_MP_TOP_123908156),
        .UP(_MP_UP_123908156)
    ) ctr (
        .clk(clk),
        .rst(rst),
        .value(M_ctr_value)
    );
    
    
    logic M_wcf_btn_a;
    logic M_wcf_btn_b;
    logic M_wcf_reset_to_listening;
    logic [1:0] M_wcf_out;
    
    which_came_first wcf (
        .clk(clk),
        .rst(rst),
        .btn_a(M_wcf_btn_a),
        .btn_b(M_wcf_btn_b),
        .reset_to_listening(M_wcf_reset_to_listening),
        .out(M_wcf_out)
    );
    
    
    always @* begin
        M_reset_cond_in = ~rst_n;
        rst = M_reset_cond_out;
        led = {3'h0, io_button};
        usb_tx = usb_rx;
        M_edge_detector_in = M_ctr_value;
        M_dec_ctr_inc = M_edge_detector_out;
        M_seg_values = M_dec_ctr_digits;
        io_segment = ~M_seg_seg;
        io_select = ~M_seg_sel;
        io_led = io_dip;
        M_wcf_btn_a = io_button[2'h3];
        M_wcf_btn_b = io_button[3'h4];
        M_wcf_reset_to_listening = io_button[1'h1];
        io_led[1'h0][1'h1:1'h0] = M_wcf_out;
    end
    
    
endmodule